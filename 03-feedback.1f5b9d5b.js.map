{"mappings":"YAAA,aAEA,IA0BAA,EAAe,CACbC,KA3BW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAuB3CC,KAnBW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CK,OAXa,SAAAd,GACb,IACEK,aAAaU,WAAWf,E,CACxB,MAAOO,GACPC,QAAQQ,IAAI,sBAAuBT,EAAME,Q,ICpBvCQ,EAAqBC,SAASC,cAAe,kBAE7CC,EAAW,GAkBMC,oBAAD,SAAAC,GAEK,IAAjBC,EAASD,EAAMC,OAEfC,EAAmBD,EAAOtB,MAE1BwB,EAAkBF,EAAOG,KAE/BN,EAASK,GAAmBD,EAE5B1B,EAAgBC,KAAM,sBAAsBqB,E,EAYhDH,EAAmBU,iBAAkB,SAASN,qBAC9CJ,EAAmBU,iBAAkB,UAVhB,SAAAL,GAEUA,EAArBM,iBACN9B,EAAgBgB,OAAQ,uBAExBQ,EAAMO,cAAcC,O,IAlCP,WACb,IAAMC,EAAuBjC,EAAgBY,KAAM,uBAEtB,QAAAE,IAAzBmB,EAAyB,CAG7B,IAAMC,EAASf,EACf,IAAK,IAAMjB,KAAO+B,EACVA,EAAqBE,eAAejC,KACpCgC,EAAOhC,GAAKC,MAAQ8B,EAAqB/B,GAL7C,C,CAqCRkC,E","sources":["src/js/localstorage.js","src/js/03-feedback.js"],"sourcesContent":["'use strict';\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};","\nimport localStorageApi from './localstorage';\n\n// Робимо доступ до форми\nconst formContactElement = document.querySelector(`.feedback-form`);\n\nconst userData = {};\n\nconst formFill = () => {\n    const dataFromLocalStorage = localStorageApi.load(`feedback-form-state`);\n    // Перевірка: якщо undefined, то нічого не робимо\n    if (dataFromLocalStorage === undefined) {\n        return;\n    }\n    const formEl = formContactElement;\n    for (const key in dataFromLocalStorage) {\n        if (dataFromLocalStorage.hasOwnproperty(key)) {\n            formEl[key].value = dataFromLocalStorage[key];\n        }\n    }\n};\n\n// Описуємо функцію-обробник\n\nonFormElementChange = event => {\n    // Виносимо цільовий елемент\n    const target = event.target;\n    // Доступ до значення елемента\n    const formElementValue = target.value;\n    // Доступ до імені елемента\n    const formElementName = target.name;\n\n    userData[formElementName] = formElementValue;\n    // Зберігаємо дані в local storage\n    localStorageApi.save(`feedback-form-state`, userData);\n};\n\nconst onFormSubmit = event => {\n    // Запобігаємо перезавантаженню\n    event.preventDefault();\n    localStorageApi.remove(`feedback-form-state`);\n    // Чистимо local storage від даних після сабміта\n    event.currentTarget.reset();\n}\n\n\nformContactElement.addEventListener(`change`, onFormElementChange);\nformContactElement.addEventListener(`submit`, onFormSubmit);\n\nformFill();"],"names":["$50116558f77987dc$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b00c40859be242c5$var$formContactElement","document","querySelector","$b00c40859be242c5$var$userData","onFormElementChange","event","target","formElementValue","formElementName","name","addEventListener","preventDefault","currentTarget","reset","dataFromLocalStorage","formEl","hasOwnproperty","$b00c40859be242c5$var$formFill"],"version":3,"file":"03-feedback.1f5b9d5b.js.map"}